图片处理流程
- 合并图片： 按照 LD、LU、RD、RU 的顺序合并图片
- 生成彩色图片的功能: 可以生成 red、green的伪彩图片，过程是先转成灰度图片，然后根据灰度值生成伪彩图片（例如，灰度值为x，则红色伪彩为（x,0,0），绿色伪彩为（0,x,0））
- 叠加图片功能： 将两张图片都设置成30%的透明度，叠加，生成一张新的图片。新图片要进行adjust矫正以保证图片的亮度
- GUI显示： 通过下拉按钮选择红色通道的图片，然后选择绿色通道的图片，然后显示叠加后的图片

## 实现思路

### 1. 图片合并功能 (merge.py)
- 扫描指定文件夹中的所有.bmp文件
- 通过文件名后缀(_LD, _LU, _RD, _RU)识别相关联的四张图片
- 使用PIL库将四张图片按照指定位置拼接
- 将结果保存到combined子文件夹中

### 2. 伪彩色图片生成 (待实现)
- 使用PIL库的convert('L')将图片转换为灰度图
- 创建新的RGB图像
- 对于红色伪彩：
  ```python
  red_image = Image.new('RGB', gray_image.size)
  for x, y in coordinates:
      gray_value = gray_image.getpixel((x, y))
      red_image.putpixel((x, y), (gray_value, 0, 0))
  ```
- 绿色伪彩采用类似方法，使用(0, gray_value, 0)

### 3. 图片叠加功能 (待实现)
- 使用PIL库的convert('RGBA')添加透明通道
- 设置两张图片的透明度为0.3
- 使用alpha_composite()方法叠加图片
- 使用ImageEnhance.Brightness()调整最终亮度
- 保存结果

### 4. GUI界面 (待实现)
- 使用tkinter创建基本界面
- 组件包括：
  - 两个Combobox用于选择输入图片
  - 预览区域显示叠加结果
  - 处理按钮
- 界面布局：
  ```
  +------------------------+
  | 选择红色通道图片 [▼]  |
  | 选择绿色通道图片 [▼]  |
  |        [处理]         |
  |   [预览图片显示区]    |
  +------------------------+
  ```

### 文件结构
project/
├── merge.py          # 图片合并功能
├── pseudo_color.py   # 伪彩色处理功能
├── overlay.py        # 图片叠加功能
├── gui.py           # 图形界面
└── utils.py         # 通用工具函数

### 开发计划
1. 第一阶段：核心功能实现
   - [x] 图片合并功能
   - [ ] 伪彩色转换功能
   - [ ] 图片叠加功能

2. 第二阶段：GUI开发
   - [ ] 基础界面布局
   - [ ] 文件选择功能
   - [ ] 图片预览功能
   - [ ] 处理结果显示

3. 第三阶段：优化和测试
   - [ ] 性能优化
   - [ ] 错误处理
   - [ ] 用户体验改进
   - [ ] 批处理功能

### 使用说明
1. 图片合并：
   - 将需要处理的图片放在指定文件夹中
   - 图片命名格式：前缀_位置.bmp（位置包括LD、LU、RD、RU）
   - 运行merge.py进行处理
   - 结果保存在combined子文件夹中

2. 伪彩色转换：（待完成）
   - 支持单张图片处理
   - 支持批量处理
   - 可选择红色或绿色通道

3. 图片叠加：（待完成）
   - 选择两张待叠加的图片
   - 自动进行透明度设置和亮度调整
   - 可预览效果

4. GUI操作：（待完成）
   - 启动gui.py
   - 按界面提示进行操作
